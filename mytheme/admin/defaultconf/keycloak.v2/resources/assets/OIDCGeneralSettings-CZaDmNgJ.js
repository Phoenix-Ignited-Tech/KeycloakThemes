import{jsx as e,jsxs as d,Fragment as p}from"react/jsx-runtime";import{useState as v}from"react";import{a as h,a_ as k,a$ as I,b5 as b,b0 as _,aR as E,b8 as T,aZ as m,Q as r,aD as y,W as F,b as H,c4 as w,c5 as C,aG as A,bV as M,e as q}from"./main-hZIJIVx9.js";import{D as S}from"./SwitchControl-CuqH9Ng4.js";/* empty css                           */import{E as K}from"./ExpandableSection-BHMIrvCp.js";import{C as N}from"./ClientIdSecret-KRPFh3sV.js";import{R as P,D as V}from"./RedirectUrl-DLJV9Xtv.js";const j=({label:t,children:n})=>{const{t:i}=h();return e(k,{label:i(t),fieldId:t,labelIcon:e(I,{helpText:i(`${t}Help`),fieldLabelId:t}),children:n})},J=({label:t,field:n,fieldType:i="string",isReadOnly:a=!1,defaultValue:o})=>{const{t:c}=h(),{control:u}=b();return e(j,{label:t,children:e(_,{name:n,defaultValue:o||(i==="string"?"false":!1),control:u,render:({field:g})=>e(E,{id:t,label:c("on"),labelOff:c("off"),isChecked:i==="string"?g.value==="true":g.value,onChange:(f,s)=>g.onChange(i==="string"?""+s:s),isDisabled:a,"aria-label":t})})})},G=({label:t,field:n,isReadOnly:i=!1})=>{const{register:a}=b();return e(j,{label:t,children:e(T,{id:t,"data-testid":t,readOnly:i,...a(n)})})},D=["plain","S256"],x=({readOnly:t})=>{const{t:n}=h(),{control:i}=b(),a=m({control:i,name:"config.validateSignature"}),o=m({control:i,name:"config.useJwksUrl"}),c=m({control:i,name:"config.pkceEnabled"});return d("div",{className:"pf-v5-c-form pf-m-horizontal",children:[e(r,{name:"config.authorizationUrl",label:n("authorizationUrl"),type:"url",readOnly:t,rules:{required:n("required")}}),e(r,{name:"config.tokenUrl",label:n("tokenUrl"),type:"url",readOnly:t,rules:{required:n("required")}}),e(r,{name:"config.logoutUrl",label:n("logoutUrl"),readOnly:t}),e(r,{name:"config.userInfoUrl",label:n("userInfoUrl"),readOnly:t}),e(r,{name:"config.issuer",label:n("issuer"),readOnly:t}),e(S,{name:"config.validateSignature",label:n("validateSignature"),isDisabled:t,stringify:!0}),a==="true"&&d(p,{children:[e(S,{name:"config.useJwksUrl",label:n("useJwksUrl"),isDisabled:t,stringify:!0}),o==="true"?e(y,{name:"config.jwksUrl",label:n("jwksUrl"),readOnly:t}):d(p,{children:[e(r,{name:"config.publicKeySignatureVerifier",label:"validatingPublicKey"}),e(r,{name:"config.publicKeySignatureVerifierKeyId",label:n("validatingPublicKeyId"),readOnly:t})]})]}),e(S,{name:"config.pkceEnabled",label:n("pkceEnabled"),isDisabled:t,stringify:!0}),c==="true"&&e(F,{name:"config.pkceMethod",label:n("pkceMethod"),labelIcon:n("pkceMethodHelp"),controller:{defaultValue:D[0]},options:D.map(u=>({key:u,value:n(u)}))})]})},Z=({readOnly:t})=>{const{t:n}=h(),[i,a]=v(!1);return d(p,{children:[t&&e(K,{className:"keycloak__discovery-settings__metadata",toggleText:n(i?"hideMetaData":"showMetaData"),onToggle:()=>a(!i),isExpanded:i,children:e(x,{readOnly:t})}),!t&&e(x,{readOnly:t})]})},U=["client_secret_post","client_secret_basic","client_secret_jwt","private_key_jwt"],B=({create:t=!0})=>{const n=H().providers.clientSignature.providers,{t:i}=h(),{control:a}=b(),[o,c]=v(!1),[u,g]=v(!1),f=m({control:a,name:"config.clientAuthMethod"});return d(p,{children:[e(k,{label:i("clientAuthentication"),labelIcon:e(I,{helpText:i("clientAuthenticationHelp"),fieldLabelId:"clientAuthentication"}),fieldId:"clientAuthentication",children:e(_,{name:"config.clientAuthMethod",defaultValue:U[0],control:a,render:({field:s})=>e(w,{toggleId:"clientAuthentication",onToggle:()=>c(!o),onSelect:l=>{s.onChange(l),c(!1)},selections:s.value,variant:C.single,"aria-label":i("clientAuthentication"),isOpen:o,children:U.map(l=>e(A,{selected:l===s.value,value:l,children:i(`clientAuthentications.${l}`)},l))})})}),e(N,{secretRequired:f!=="private_key_jwt",create:t}),e(k,{label:i("clientAssertionSigningAlg"),labelIcon:e(I,{helpText:i("clientAssertionSigningAlgHelp"),fieldLabelId:"clientAssertionSigningAlg"}),fieldId:"clientAssertionSigningAlg",children:e(_,{name:"config.clientAssertionSigningAlg",defaultValue:"",control:a,render:({field:s})=>e(w,{maxHeight:200,toggleId:"clientAssertionSigningAlg",onToggle:()=>g(!u),onSelect:l=>{s.onChange(l.toString()),g(!1)},selections:s.value||i("algorithmNotSpecified"),variant:C.single,"aria-label":i("selectClientAssertionSigningAlg"),isOpen:u,children:[e(A,{selected:s.value==="",value:"",children:i("algorithmNotSpecified")},""),...M(n).map(l=>e(A,{selected:l===s.value,value:l,children:l},l))]})})}),(f==="private_key_jwt"||f==="client_secret_jwt")&&e(G,{field:"config.clientAssertionAudience",label:"clientAssertionAudience"}),f==="private_key_jwt"&&e(J,{field:"config.jwtX509HeadersEnabled",label:"jwtX509HeadersEnabled"})]})},Y=()=>{const{t}=h(),{tab:n}=q(),{control:i}=b(),a=m({control:i,name:"alias"});return d(p,{children:[e(P,{id:a}),e(r,{name:"alias",label:t("alias"),labelIcon:t("aliasHelp"),readOnly:n==="settings",rules:{required:t("required")}}),e(r,{name:"displayName",label:t("displayName")}),e(V,{})]})};export{Z as D,j as F,Y as O,J as S,G as T,B as a};
//# sourceMappingURL=OIDCGeneralSettings-CZaDmNgJ.js.map

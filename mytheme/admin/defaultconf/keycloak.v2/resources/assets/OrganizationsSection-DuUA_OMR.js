import{jsxs as s,Fragment as B,jsx as e}from"react/jsx-runtime";import{u as C,c as v,a as x,$ as A,d as E,B as K,P,eE as S,L as d,db as k,aP as I,h as L,eF as c,s as V}from"./main-hZIJIVx9.js";import{useState as l}from"react";import{u as w}from"./ConfirmDialog-BClP8m2C.js";import{V as T}from"./ViewHeader-DxK8RzXz.js";import"react-dom";function q(){const{adminClient:o}=C(),{realm:n}=v(),{t:a}=x(),{addAlert:g,addError:m}=A(),u=E(),[r,f]=l(0),z=()=>f(r+1),[p,y]=l();async function O(t,i,b){return await o.organizations.find({first:t,max:i,search:b})}const[h,D]=w({titleKey:"organizationDelete",messageKey:"organizationDeleteConfirm",continueButtonLabel:"delete",continueButtonVariant:K.danger,onConfirm:async()=>{try{await o.organizations.delById({id:p.id}),g(a("organizationDeletedSuccess")),z()}catch(t){m("organizationDeleteError",t)}}});return s(B,{children:[e(T,{titleKey:"organizationsList",subKey:"organizationsExplain",divider:!0}),s(P,{variant:"light",className:"pf-v5-u-p-0",children:[e(D,{}),e(S,{link:({organization:t,children:i})=>e(d,{to:k({realm:n,id:t.id,tab:"settings"}),children:i},t.id),loader:O,isPaginated:!0,toolbarItem:e(I,{children:e(L,{"data-testid":"addOrganization",component:t=>e(d,{...t,to:c({realm:n})}),children:a("createOrganization")})}),onDelete:t=>{y(t),h()},children:e(V,{message:a("emptyOrganizations"),instructions:a("emptyOrganizationsInstructions"),primaryActionText:a("createOrganization"),onPrimaryAction:()=>u(c({realm:n}))})},r)]})]})}export{q as default};
//# sourceMappingURL=OrganizationsSection-DuUA_OMR.js.map

import{jsx as n,jsxs as d}from"react/jsx-runtime";import{useMemo as B,useEffect as F,Fragment as T}from"react";import{a as G,b5 as $,aZ as D,cb as E,cc as f,b8 as L,h as m,B as b,bb as P,bh as S}from"./main-hZIJIVx9.js";function I(a){return typeof a=="string"?a.split("##"):[a||""]}function W(a){return a.join("##")}const w=({name:a,addButtonLabel:g,isDisabled:l=!1,defaultValue:o,stringify:i=!1,id:v,...y})=>{const{t:c}=G(),{register:p,setValue:A,control:C}=$(),r=D({name:a,control:C,defaultValue:o||""}),s=B(()=>{let t=i?I(Array.isArray(r)&&r.length===1?r[0]:r):Array.isArray(r)?r:[r];return(!Array.isArray(t)||t.length===0)&&(t=(i?I(o):o)||[""]),t},[r]),M=t=>{u([...s.slice(0,t),...s.slice(t+1)])},V=()=>{u([...s,""])},k=(t,e)=>{u([...s.slice(0,t),e,...s.slice(t+1)])},u=t=>{const e=t.flatMap(h=>h);A(a,i?W(e):e,{shouldDirty:!0})};return F(()=>{p(a)},[p]),n("div",{id:v,children:s.map((t,e)=>d(T,{children:[d(E,{children:[n(f,{isFill:!0,children:n(L,{"data-testid":a+e,onChange:(h,j)=>k(e,j),name:`${a}.${e}.value`,value:t,isDisabled:l,...y})}),n(f,{children:n(m,{"data-testid":"remove"+e,variant:b.link,onClick:()=>M(e),tabIndex:-1,"aria-label":c("remove"),isDisabled:s.length===1||l,children:n(P,{})})})]}),e===s.length-1&&d(m,{variant:b.link,onClick:V,tabIndex:-1,"aria-label":c("add"),"data-testid":"addValue",isDisabled:!t||l,children:[n(S,{})," ",c(g||"add")]})]},e))})};export{w as M};
//# sourceMappingURL=MultiLineInput-DThNyrNa.js.map

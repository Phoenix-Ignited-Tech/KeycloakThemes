import{jsx as e,jsxs as S,Fragment as T}from"react/jsx-runtime";import{useState as O}from"react";import{u as x,a as y,$ as A,aH as f,aB as C,j as F,aI as u,aA as P,aC as b,aP as g,aG as $,D as k}from"./main-hZIJIVx9.js";import{f as E,c as j,g as w,b as L,A as m}from"./ClientScopeTypes-AzIBTaPZ.js";import{F as _}from"./filter-icon-B5V3NoWK.js";const V=({clientId:n,selectedRows:l,refresh:r})=>{const{adminClient:p}=x(),{t:a}=y(),[i,t]=O(!1),{addAlert:s,addError:c}=A();return e(f,{"aria-label":"change-type-to",onOpenChange:o=>t(o),isOpen:i,toggle:o=>e(C,{id:"change-type-dropdown",isDisabled:l.length===0,ref:o,onClick:()=>t(!i),isExpanded:i,children:a("changeTypeTo")}),onSelect:async(o,d)=>{try{await Promise.all(l.map(h=>n?E(p,n,h,h.type,d):j(p,h,d))),t(!1),r(),s(a("clientScopeSuccess"),F.success)}catch(h){c("clientScopeError",h)}},children:e(u,{children:w(a,n?void 0:L)})})},v=["all","saml","openid-connect"],q=(n="")=>l=>l.name?.includes(n),z=n=>l=>n===m.none||l.type===n,J=n=>l=>n==="all"||l.protocol===n,D=({searchType:n,withProtocol:l=!1,onSelect:r})=>{const{t:p}=y(),[a,i]=O(!1),t=c=>e(k,{onClick:()=>{r(c),i(!1)},children:p(`clientScopeSearch.${c}`)},c),s=[t("name"),t("type")];return l&&s.push(t("protocol")),e(P,{onOpenChange:c=>i(c),toggle:c=>S(C,{"data-testid":"clientScopeSearch",ref:c,id:"toggle-id",onClick:()=>i(!a),children:[e(_,{})," ",p(`clientScopeSearch.${n}`)]}),isOpen:a,children:e(b,{children:s})})},K=({searchType:n,onSelect:l,type:r,onType:p,protocol:a,onProtocol:i})=>{const{t}=y(),[s,c]=O(!1);return S(T,{children:[n==="type"&&S(T,{children:[e(g,{children:e(D,{searchType:n,onSelect:l,withProtocol:!!a})}),e(g,{children:e(f,{toggle:o=>e(C,{"data-testid":"clientScopeSearchType",ref:o,isExpanded:s,onClick:()=>c(!s),children:r===m.none?t("allTypes"):t(`clientScopeTypes.${r}`)}),onOpenChange:o=>c(o),isOpen:s,selected:r===m.none?t("allTypes"):t(`clientScopeTypes.${r}`),onSelect:(o,d)=>{p(d),c(!1)},children:S(u,{children:[e($,{value:m.none,children:t("allTypes")}),w(t)]})})})]}),n==="protocol"&&!!a&&S(T,{children:[e(g,{children:e(D,{searchType:n,onSelect:l,withProtocol:!0})}),e(g,{children:e(f,{toggle:o=>e(C,{"data-testid":"clientScopeSearchProtocol",ref:o,isExpanded:s,onClick:()=>c(!s),children:t(`protocolTypes.${a}`)}),onOpenChange:o=>c(o),isOpen:s,selected:t(`protocolTypes.${a}`),onSelect:(o,d)=>{i?.(d),c(!1)},children:e(u,{children:v.map(o=>e($,{value:o,children:t(`protocolTypes.${o}`)},o))})})})]})]})};export{V as C,D as S,K as a,q as n,J as p,z as t};
//# sourceMappingURL=SearchFilter-wgHoAv0Q.js.map

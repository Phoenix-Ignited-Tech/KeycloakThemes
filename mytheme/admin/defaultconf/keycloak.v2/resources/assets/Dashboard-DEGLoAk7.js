import{jsx as e,jsxs as a,Fragment as A}from"react/jsx-runtime";import{_ as ae,d6 as C,l as G,a as L,b as Z,P as u,d7 as te,b_ as M,b$ as ie,c0 as w,c1 as U,c2 as V,c3 as y,c as k,cJ as ne,d8 as ee,be as se,bf as W,bi as le,aQ as ce,aX as oe,aL as H,d9 as K,T as de,aM as me,h as _,bm as D,cv as he,cw as $,aJ as J,ct as N,aK as x,a$ as X,o as O}from"./main-hZIJIVx9.js";import*as j from"react";import{useState as Y,useMemo as I}from"react";import{R as pe,u as be}from"./RoutableTabs-B1siEmtL.js";import{u as fe,m as ue}from"./useLocaleSort-Cjd-LyWL.js";import{E as ve}from"./ExpandableSection-BHMIrvCp.js";import{a as B,b as F}from"./Tabs-DXjNMDMz.js";import{D as S,a as E,b,c as f}from"./DescriptionListTerm-otcoXpTE.js";import{L as z,a as Q,b as ge}from"./ListItem-BJr2pMeN.js";import{A as Te,a as R}from"./KeySelect-BUhUx10e.js";import"react-dom";import"./PageHandler-B0KkvOoM.js";import"./DynamicComponents-v6e2RtHb.js";import"./ClientSelect-9QE6UUYG.js";import"./FileUpload-DI2GSZLL.js";import"./CodeEditor-BZUGCa3z.js";import"./copy-icon-Cy7M-mD5.js";import"./GroupPickerDialog-CppD_q_3.js";import"./DataListItemRow-B1CYYhSa.js";import"./MultiLineInput-DThNyrNa.js";import"./useToggle-K3Kx99tM.js";import"./AddRoleMappingModal-C4wZesy5.js";import"./translationFormatter-QNso5xUZ.js";import"./ConfirmDialog-BClP8m2C.js";import"./filter-icon-B5V3NoWK.js";import"./ViewHeader-DxK8RzXz.js";import"./useParams-tGf6FJmU.js";import"./PageList-DUHf6xan.js";const P={brand:"pf-v5-c-brand",modifiers:{picture:"pf-m-picture"}},ye={name:"--pf-v5-c-brand--Height",value:"auto",var:"var(--pf-v5-c-brand--Height)"},_e={name:"--pf-v5-c-brand--Width",value:"auto",var:"var(--pf-v5-c-brand--Width)"},re=r=>{var{className:t="",src:d="",alt:i,children:l,widths:o,heights:h,style:p}=r,n=ae(r,["className","src","alt","children","widths","heights","style"]);let c;return o!==void 0&&(c=Object.assign({},C(o,_e.name))),h!==void 0&&(c=Object.assign(Object.assign({},c),C(h,ye.name))),l!==void 0?j.createElement("picture",Object.assign({className:G(P.brand,P.modifiers.picture,t),style:Object.assign(Object.assign({},p),c)},n),l,j.createElement("img",{src:d,alt:i})):j.createElement("img",Object.assign({},n,{className:G(P.brand,t),style:Object.assign(Object.assign({},p),c),src:d,alt:i}))};re.displayName="Brand";var v;(function(r){r.Default="DEFAULT",r.DisabledByDefault="DISABLED_BY_DEFAULT",r.Preview="PREVIEW",r.PreviewDisabledByDefault="PREVIEW_DISABLED_BY_DEFAULT",r.Experimental="EXPERIMENTAL",r.Deprecated="DEPRECATED"})(v||(v={}));const De=()=>{const{t:r}=L(),t=Z(),[d,i]=Y(""),[l,o]=Y([]),h=I(()=>Object.entries(t.providers||[]).filter(([n])=>n.toLowerCase().includes(d.toLowerCase())),[d]),p=n=>{l.includes(n)?o(l.filter(c=>c!==n)):o([...l,n])};return e(u,{variant:"light",children:e(te,{inputGroupName:"search",inputGroupPlaceholder:r("search"),inputGroupOnEnter:i,children:a(M,{variant:"compact",children:[e(ie,{children:a(w,{children:[e(U,{width:20,children:r("spi")}),e(U,{children:r("providers")})]})}),e(V,{children:h.map(([n,{providers:c}])=>a(w,{children:[e(y,{children:n}),e(y,{children:e("ul",{children:Object.entries(c).map(([m,{operationalInfo:g}])=>a("li",{children:[m,g?e(ve,{isExpanded:l.includes(m),onToggle:()=>p(m),toggleText:l.includes(m)?r("showLess"):r("showMore"),children:e(M,{borders:!1,children:e(V,{children:Object.entries(g).map(([T,s])=>a(w,{children:[e(y,{children:T}),e(y,{children:s})]},T))})})},m):null]},m))})})]},n))})]})})})},Ee=()=>{const{environment:r}=ne(),{t}=L(),{realm:d,realmRepresentation:i}=k(),l=r.logo?r.logo:"/icon.svg",o=ee(t,i?.displayName,d);return e(u,{variant:"light",children:a(se,{variant:"lg",children:[e(re,{src:r.resourceUrl+l,alt:"Keycloak icon",className:"keycloak__dashboard_icon"}),e(W,{titleText:e(A,{children:t("welcome")}),headingLevel:"h2"}),e(W,{titleText:o,headingLevel:"h1"}),e(le,{children:t("introduction")})]})})},q=({feature:r})=>{const{t}=L();return a(ge,{className:"pf-v5-u-mb-sm",children:[r.name,"Â ",r.type===v.Experimental&&e(O,{color:"orange",children:t("experimental")}),r.type===v.Preview&&e(O,{color:"blue",children:t("preview")}),r.type===v.Default&&e(O,{color:"green",children:t("supported")})]})},Ie=()=>{const{t:r}=L(),{realm:t,realmRepresentation:d}=k(),i=Z(),l=fe(),o=I(()=>l(i.features??[],ue("name")),[i.features]),h=I(()=>o.filter(s=>!s.enabled)||[],[i.features]),p=I(()=>o.filter(s=>s.enabled)||[],[i.features]),n=s=>be(K({realm:t,tab:s})),c=ee(r,d?.displayName,t),m=n("welcome"),g=n("info"),T=n("providers");return Object.keys(i).length===0?e(ce,{}):a(A,{children:[e(u,{variant:"light",children:e(oe,{className:"pf-v5-u-mr-sm",children:e(H,{component:"h1",children:r("realmNameTitle",{name:t})})})}),e(u,{variant:"light",className:"pf-v5-u-p-0",children:a(pe,{"data-testid":"dashboard-tabs",defaultLocation:K({realm:t,tab:"welcome"}),isBox:!0,mountOnEnter:!0,children:[e(B,{id:"welcome","data-testid":"welcomeTab",title:e(F,{children:r("welcomeTabTitle")}),...m,children:e(u,{variant:"light",children:a("div",{className:"pf-v5-l-grid pf-v5-u-ml-lg",children:[e("div",{className:"pf-v5-l-grid__item pf-m-12-col",children:e(de,{className:"pf-v5-u-font-weight-bold",headingLevel:"h2",size:"3xl",children:r("welcomeTo",{realmDisplayInfo:c})})}),e("div",{className:"pf-v5-l-grid__item keycloak__dashboard_welcome_tab",children:e(H,{component:me.h3,children:r("welcomeText")})}),e("div",{className:"pf-v5-l-grid__item pf-m-10-col pf-v5-u-mt-md",children:e(_,{className:"pf-v5-u-px-lg pf-v5-u-py-sm",component:"a",href:D.documentation,target:"_blank",variant:"primary",children:r("viewDocumentation")})}),a(Te,{className:"pf-v5-u-mt-sm",children:[e(R,{children:e(_,{component:"a",href:D.guides,target:"_blank",variant:"tertiary",children:r("viewGuides")})}),e(R,{children:e(_,{component:"a",href:D.community,target:"_blank",variant:"tertiary",children:r("joinCommunity")})}),e(R,{children:e(_,{component:"a",href:D.blog,target:"_blank",variant:"tertiary",children:r("readBlog")})})]})]})})}),e(B,{id:"info","data-testid":"infoTab",title:e(F,{children:r("serverInfo")}),...g,children:e(u,{variant:"light",children:a(he,{hasGutter:!0,children:[e($,{lg:2,sm:12,children:a(J,{className:"keycloak__dashboard_card",children:[e(N,{children:r("serverInfo")}),e(x,{children:e(S,{children:a(E,{children:[e(b,{children:r("version")}),e(f,{children:i.systemInfo?.version})]})})}),e(N,{children:r("memory")}),e(x,{children:e(S,{children:a(E,{children:[e(b,{children:r("totalMemory")}),e(f,{children:i.memoryInfo?.totalFormated}),e(b,{children:r("freeMemory")}),e(f,{children:i.memoryInfo?.freeFormated}),e(b,{children:r("usedMemory")}),e(f,{children:i.memoryInfo?.usedFormated})]})})})]})}),e($,{lg:10,sm:12,children:a(J,{className:"keycloak__dashboard_card",children:[e(N,{children:r("profile")}),e(x,{children:a(S,{children:[a(E,{children:[a(b,{children:[r("enabledFeatures")," ",e(X,{fieldLabelId:"enabledFeatures",helpText:r("infoEnabledFeatures")})]}),e(f,{children:e(z,{variant:Q.inline,children:p.map(s=>e(q,{feature:s},s.name))})})]}),a(E,{children:[a(b,{children:[r("disabledFeatures")," ",e(X,{fieldLabelId:"disabledFeatures",helpText:r("infoDisabledFeatures")})]}),e(f,{children:e(z,{variant:Q.inline,children:h.map(s=>e(q,{feature:s},s.name))})})]})]})})]})})]})})}),e(B,{id:"providers","data-testid":"providersTab",title:e(F,{children:r("providerInfo")}),...T,children:e(De,{})})]})})]})};function Ze(){const{realm:r}=k(),t=r==="master";return a(A,{children:[!t&&e(Ee,{}),t&&e(Ie,{})]})}export{Ze as default};
//# sourceMappingURL=Dashboard-DEGLoAk7.js.map

import{jsxs as a,Fragment as I,jsx as e}from"react/jsx-runtime";import{useMemo as b}from"react";import{u as S,a as k,f as A,b as F,$ as V,d as C,c as j,bX as x,P as D,F as G,A as H,h as p,L as w,dH as E,j as L,dI as T}from"./main-hZIJIVx9.js";import{D as $}from"./DynamicComponents-v6e2RtHb.js";import{F as z}from"./FormAccess-DIV7UK1Y.js";import{V as B}from"./ViewHeader-DxK8RzXz.js";import{u as K}from"./useParams-tGf6FJmU.js";import{G as M}from"./GeneralSettings-DgwBNREN.js";import"react-dom";import"./ClientSelect-9QE6UUYG.js";import"./FileUpload-DI2GSZLL.js";import"./CodeEditor-BZUGCa3z.js";import"./copy-icon-Cy7M-mD5.js";import"./GroupPickerDialog-CppD_q_3.js";import"./DataListItemRow-B1CYYhSa.js";import"./KeySelect-BUhUx10e.js";import"./useToggle-K3Kx99tM.js";import"./MultiLineInput-DThNyrNa.js";import"./AddRoleMappingModal-C4wZesy5.js";import"./translationFormatter-QNso5xUZ.js";import"./useLocaleSort-Cjd-LyWL.js";import"./ConfirmDialog-BClP8m2C.js";import"./filter-icon-B5V3NoWK.js";import"./ClientIdSecret-KRPFh3sV.js";import"./RedirectUrl-DLJV9Xtv.js";function fr(){const{adminClient:l}=S(),{t:i}=k(),{providerId:r}=K(),o=A({mode:"onChange"}),n=F(),m=b(()=>{const t=["org.keycloak.broker.social.SocialIdentityProvider","org.keycloak.broker.provider.IdentityProvider"];for(const s of t){const c=n.componentTypes?.[s]?.find(({id:h})=>h===r);if(c)return c}},[n,r]),{handleSubmit:u,formState:{isValid:f}}=o,{addAlert:v,addError:y}=V(),g=C(),{realm:d}=j(),P=async t=>{try{await l.identityProviders.create({...t,providerId:r,alias:t.alias}),v(i("createIdentityProviderSuccess"),L.success),g(T({realm:d,providerId:r,alias:t.alias,tab:"settings"}))}catch(s){y("createError",s)}};return o.getValues("alias")||o.setValue("alias",r),a(I,{children:[e(B,{titleKey:i("addIdentityProvider",{provider:x(r)})}),e(D,{variant:"light",children:a(z,{role:"manage-identity-providers",isHorizontal:!0,onSubmit:u(P),children:[a(G,{...o,children:[e(M,{id:r}),m&&e($,{stringify:!0,properties:m.properties})]}),a(H,{children:[e(p,{isDisabled:!f,variant:"primary",type:"submit","data-testid":"createProvider",children:i("add")}),e(p,{variant:"link","data-testid":"cancel",component:t=>e(w,{...t,to:E({realm:d})}),children:i("cancel")})]})]})})]})}export{fr as default};
//# sourceMappingURL=AddIdentityProvider-bKoBcGLE.js.map

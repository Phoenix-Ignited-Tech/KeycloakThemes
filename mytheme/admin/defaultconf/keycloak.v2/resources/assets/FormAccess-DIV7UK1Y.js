import{jsxs as R,jsx as N,Fragment as z}from"react/jsx-runtime";import*as e from"react";import{Children as Q,isValidElement as V,cloneElement as g}from"react";import{_ as k,az as Y,h as I,l as b,m as q,em as J,dk as W,b8 as K,er as M,a as X,A as G,bY as Z,r as ee,b0 as te,bS as ae,a_ as ne,cw as oe,cv as ie,bQ as se,bR as re}from"./main-hZIJIVx9.js";import{C as pe}from"./copy-icon-Cy7M-mD5.js";const m={button:"pf-v5-c-button",clipboardCopy:"pf-v5-c-clipboard-copy",clipboardCopyActions:"pf-v5-c-clipboard-copy__actions",clipboardCopyActionsItem:"pf-v5-c-clipboard-copy__actions-item",clipboardCopyExpandableContent:"pf-v5-c-clipboard-copy__expandable-content",clipboardCopyGroup:"pf-v5-c-clipboard-copy__group",clipboardCopyText:"pf-v5-c-clipboard-copy__text",clipboardCopyToggleIcon:"pf-v5-c-clipboard-copy__toggle-icon",dirRtl:"pf-v5-m-dir-rtl",modifiers:{expanded:"pf-m-expanded",inline:"pf-m-inline",block:"pf-m-block",code:"pf-m-code"},themeDark:"pf-v5-theme-dark"},_=o=>{var{onClick:i,exitDelay:s=0,entryDelay:a=300,maxWidth:n="100px",position:r="top","aria-label":l="Copyable input",id:p,textId:d,children:h,variant:y="control",onTooltipHidden:t=()=>{},className:u}=o,x=k(o,["onClick","exitDelay","entryDelay","maxWidth","position","aria-label","id","textId","children","variant","onTooltipHidden","className"]);const C=e.createRef();return e.createElement(Y,{trigger:"mouseenter focus click",triggerRef:C,exitDelay:s,entryDelay:a,maxWidth:n,position:r,"aria-live":"polite",aria:"none",content:e.createElement("div",null,h),onTooltipHidden:t},e.createElement(I,Object.assign({type:"button",variant:y,onClick:i,"aria-label":l,className:u,id:p,"aria-labelledby":`${p} ${d}`},x,{ref:C}),e.createElement(pe,null)))};_.displayName="ClipboardCopyButton";const w=o=>{var{onClick:i,id:s,textId:a,contentId:n,isExpanded:r=!1}=o,l=k(o,["onClick","id","textId","contentId","isExpanded"]);return e.createElement(I,Object.assign({type:"button",variant:"control",onClick:i,id:s,"aria-labelledby":`${s} ${a}`,"aria-controls":n,"aria-expanded":r},l),e.createElement("div",{className:b(m.clipboardCopyToggleIcon)},e.createElement(q,{"aria-hidden":"true"})))};w.displayName="ClipboardCopyToggle";class $ extends e.Component{constructor(i){super(i)}render(){const i=this.props,{className:s,children:a,onChange:n,isReadOnly:r,isCode:l}=i,p=k(i,["className","children","onChange","isReadOnly","isCode"]);return e.createElement("div",Object.assign({suppressContentEditableWarning:!0,className:b(m.clipboardCopyExpandableContent,s),onInput:d=>n(d,d.target.innerText),contentEditable:!r},p),l?e.createElement("pre",{dir:"ltr"},a):a)}}$.displayName="ClipboardCopyExpanded";$.defaultProps={onChange:()=>{},className:"",isReadOnly:!1,isCode:!1};const le=(o,i)=>{try{navigator.clipboard.writeText(i.toString())}catch(s){console.warn("Clipboard API not found, this copy function will not work. This is likely because you're using an",`unsupported browser or you're not using HTTPS. 

If you're a developer building an application which needs`,"to support copying to the clipboard without the clipboard API, you'll have to create your own copy","function and pass it to the ClipboardCopy component as the onCopy prop. For more information see","https://developer.mozilla.org/en-US/docs/Web/API/Navigator/clipboard"),console.error(s)}};var O;(function(o){o.inline="inline",o.expansion="expansion",o.inlineCompact="inline-compact"})(O||(O={}));class E extends e.Component{constructor(i){super(i),this.timer=null,this.componentDidUpdate=(a,n)=>{if(a.children!==this.props.children){const r=this.props.children;this.setState({text:r,textWhenExpanded:r})}},this.componentWillUnmount=()=>{this.timer&&window.clearTimeout(this.timer)},this.expandContent=a=>{this.setState(n=>({expanded:!n.expanded}))},this.updateText=(a,n)=>{this.setState({text:n}),this.props.onChange(a,n)},this.updateTextWhenExpanded=(a,n)=>{this.setState({textWhenExpanded:n}),this.props.onChange(a,n)},this.render=()=>{const a=this.props,{isExpanded:n,onChange:r,isReadOnly:l,isCode:p,isBlock:d,exitDelay:h,maxWidth:y,entryDelay:t,onCopy:u,hoverTip:x,clickTip:C,textAriaLabel:v,toggleAriaLabel:F,variant:T,position:S,className:j,additionalActions:D,ouiaId:P,ouiaSafe:L}=a,B=k(a,["isExpanded","onChange","isReadOnly","isCode","isBlock","exitDelay","maxWidth","entryDelay","onCopy","hoverTip","clickTip","textAriaLabel","toggleAriaLabel","variant","position","className","additionalActions","ouiaId","ouiaSafe"]),A="text-input-",H="toggle-",U="content-";return e.createElement("div",Object.assign({className:b(m.clipboardCopy,T==="inline-compact"&&m.modifiers.inline,d&&m.modifiers.block,this.state.expanded&&m.modifiers.expanded,j)},B,J(E.displayName,P,L)),T==="inline-compact"&&e.createElement(W,{prefix:""},c=>e.createElement(e.Fragment,null,!p&&e.createElement("span",{className:b(m.clipboardCopyText),id:`${A}${c}`},this.state.text),p&&e.createElement("code",{className:b(m.clipboardCopyText,m.modifiers.code),id:`${A}${c}`},this.state.text),e.createElement("span",{className:b(m.clipboardCopyActions)},e.createElement("span",{className:b(m.clipboardCopyActionsItem)},e.createElement(_,{variant:"plain",exitDelay:h,entryDelay:t,maxWidth:y,position:S,id:`copy-button-${c}`,textId:`text-input-${c}`,"aria-label":x,onClick:f=>{u(f,this.state.text),this.setState({copied:!0})},onTooltipHidden:()=>this.setState({copied:!1})},this.state.copied?C:x)),D&&D))),T!=="inline-compact"&&e.createElement(W,{prefix:""},c=>e.createElement(e.Fragment,null,e.createElement("div",{className:b(m.clipboardCopyGroup)},T==="expansion"&&e.createElement(w,{isExpanded:this.state.expanded,onClick:f=>{this.expandContent(f),this.state.expanded?this.setState({text:this.state.textWhenExpanded}):this.setState({textWhenExpanded:this.state.text})},id:`${H}${c}`,textId:`${A}${c}`,contentId:`${U}${c}`,"aria-label":F}),e.createElement(K,Object.assign({readOnlyVariant:l||this.state.expanded?"default":void 0,onChange:this.updateText,value:this.state.expanded?this.state.textWhenExpanded:this.state.text,id:`text-input-${c}`,"aria-label":v},p&&{dir:"ltr"})),e.createElement(_,{exitDelay:h,entryDelay:t,maxWidth:y,position:S,id:`copy-button-${c}`,textId:`text-input-${c}`,"aria-label":x,onClick:f=>{u(f,this.state.expanded?this.state.textWhenExpanded:this.state.text),this.setState({copied:!0})},onTooltipHidden:()=>this.setState({copied:!1})},this.state.copied?C:x)),this.state.expanded&&e.createElement($,{isReadOnly:l,isCode:p,id:`content-${c}`,onChange:this.updateTextWhenExpanded},this.state.text))))};const s=Array.isArray(this.props.children)?this.props.children.join(""):this.props.children;this.state={text:s,expanded:this.props.isExpanded,copied:!1,textWhenExpanded:s}}}E.displayName="ClipboardCopy";E.defaultProps={hoverTip:"Copy to clipboard",clickTip:"Successfully copied to clipboard!",isReadOnly:!1,isExpanded:!1,isCode:!1,variant:"inline",position:M.top,maxWidth:"150px",exitDelay:1500,entryDelay:300,onCopy:le,onChange:()=>{},textAriaLabel:"Copyable input",toggleAriaLabel:"Show content",additionalActions:null,ouiaSafe:!0};const de="_buttonGroup_1gajx_1",ce={buttonGroup:de},me=({name:o,save:i,saveText:s,reset:a,resetText:n,isSubmit:r=!1,isDisabled:l=!1,children:p,...d})=>{const{t:h}=X();return R(G,{className:ce.buttonGroup,...d,children:[(i||r)&&N(I,{isDisabled:l,"data-testid":`${o}-save`,onClick:()=>i?.(),type:r?"submit":"button",children:s||h("save")}),a&&N(I,{isDisabled:l,"data-testid":`${o}-revert`,variant:"link",onClick:()=>a(),children:n||h("revert")}),p]})},be=({children:o,role:i,fineGrainedAccess:s=!1,isReadOnly:a=!1,unWrap:n=!1,...r})=>{const{hasAccess:l}=Z(),p=(h,y)=>Q.map(h,t=>{if(!V(t))return t;if(t.props){const u=t;if(t.type===te)return g(t,{...u.props,render:C=>{const v=u.props.render(C);return g(v,{...v.props,...y})}});const x=p(u.props.children,y);switch(t.type){case me:return g(t,{isActive:!y.isDisabled,children:x});case ae:return g(t,{readOnly:y.isDisabled,children:x})}return g(t,t.type===ne||t.type===oe||t.type===ie||t.type===G||t.type===E||t.type===se||t.type===re?{children:x}:{...y,children:x})}return t}),d=a||!l(i)&&!s;return R(z,{children:[!n&&N(ee,{...r,className:"keycloak__form "+(r.className||""),children:p(o,d?{isDisabled:d}:{})}),n&&p(o,d?{isDisabled:d}:{})]})};export{_ as C,be as F,me as a,E as b};
//# sourceMappingURL=FormAccess-DIV7UK1Y.js.map
